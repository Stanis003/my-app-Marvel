(this["webpackJsonpmy-app-marvel"]=this["webpackJsonpmy-app-marvel"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/error.6617f447.gif"},function(e,t,a){e.exports=a.p+"static/media/mjolnir.dd8446a3.png"},function(e,t,a){e.exports=a.p+"static/media/vision.76e8b3e1.png"},function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),l=a(1),s=a(2),o=a(4),m=a(3),u=(a(18),function(){return r.a.createElement("header",{className:"app__header"},r.a.createElement("h1",{className:"app__title"},r.a.createElement("a",{href:"#"},r.a.createElement("span",null,"Marvel")," information portal")),r.a.createElement("nav",{className:"app__menu"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Characters")),"/",r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Comics")))))}),d=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"0 auto",background:"none",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},r.a.createElement("g",{transform:"translate(80,50)"},r.a.createElement("g",{transform:"rotate(0)"},r.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"1"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"})))),r.a.createElement("g",{transform:"translate(71.21320343559643,71.21320343559643)"},r.a.createElement("g",{transform:"rotate(45)"},r.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.875"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"})))),r.a.createElement("g",{transform:"translate(50,80)"},r.a.createElement("g",{transform:"rotate(90)"},r.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.75"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"})))),r.a.createElement("g",{transform:"translate(28.786796564403577,71.21320343559643)"},r.a.createElement("g",{transform:"rotate(135)"},r.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.625"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"})))),r.a.createElement("g",{transform:"translate(20,50.00000000000001)"},r.a.createElement("g",{transform:"rotate(180)"},r.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.5"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"})))),r.a.createElement("g",{transform:"translate(28.78679656440357,28.786796564403577)"},r.a.createElement("g",{transform:"rotate(225)"},r.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.375"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"})))),r.a.createElement("g",{transform:"translate(49.99999999999999,20)"},r.a.createElement("g",{transform:"rotate(270)"},r.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.25"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"})))),r.a.createElement("g",{transform:"translate(71.21320343559643,28.78679656440357)"},r.a.createElement("g",{transform:"rotate(315)"},r.a.createElement("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.125"},r.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"})))))},f=a(10),h=a.n(f),p=function(){return r.a.createElement("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:h.a,alt:"Error"})},E=a(5),v=a.n(E),b=a(6),g=function e(){var t=this;Object(l.a)(this,e),this._apiBase="https://gateway.marvel.com:443/v1/public/",this._apiKey="apikey=a373e146fd59f5a1eac1e30c998c5dff",this._baseOffset=210,this.getResource=function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(b.a)(v.a.mark((function e(){var a,n,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:t._baseOffset,e.next=3,t.getResource("".concat(t._apiBase,"characters?limit=9&offset=").concat(a,"&").concat(t._apiKey));case 3:return n=e.sent,e.abrupt("return",n.data.results.map(t._transformCharacter));case 5:case"end":return e.stop()}}),e)}))),this.getCharacter=function(){var e=Object(b.a)(v.a.mark((function e(a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("".concat(t._apiBase,"characters/").concat(a,"?").concat(t._apiKey));case 2:return n=e.sent,e.abrupt("return",t._transformCharacter(n.data.results[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformCharacter=function(e){return{id:e.id,name:e.name,description:e.description?"".concat(e.description.slice(0,210),"..."):"There is no description for this character",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}}},_=(a(20),a(11)),y=a.n(_),N=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={char:{},loading:!0,error:!1},e.marvelService=new g,e.onCharLoaded=function(t){e.setState({char:t,loading:!1,error:!1})},e.onCharLoading=function(){e.setState({loading:!0})},e.onError=function(){e.setState({loading:!1,error:!0})},e.updateChar=function(){var t=Math.floor(400*Math.random()+1011e3);e.onCharLoading(),e.marvelService.getCharacter(t).then(e.onCharLoaded).catch(e.onError)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.updateChar()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.state,t=e.char,a=e.loading,n=e.error,c=n?r.a.createElement(p,null):null,i=a?r.a.createElement(d,null):null,l=a||n?null:r.a.createElement(k,{char:t});return r.a.createElement("div",{className:"randomchar"},c,i,l,r.a.createElement("div",{className:"randomchar__static"},r.a.createElement("p",{className:"randomchar__title"},"Random character for today!",r.a.createElement("br",null),"Do you want to get to know him better?"),r.a.createElement("p",{className:"randomchar__title"},"Or choose another one"),r.a.createElement("button",{onClick:this.updateChar,className:"button button__main"},r.a.createElement("div",{className:"inner"},"try it")),r.a.createElement("img",{src:y.a,alt:"mjolnir",className:"randomchar__decoration"})))}}]),a}(n.Component),k=function(e){var t=e.char,a=t.name,n=t.description,c=t.homepage,i=t.wiki,l=t.thumbnail,s={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===l&&(s={objectFit:"contain"}),r.a.createElement("div",{className:"randomchar__block"},r.a.createElement("img",{src:l,alt:"Random character",className:"randomchar__img",style:s}),r.a.createElement("div",{className:"randomchar__info"},r.a.createElement("p",{className:"randomchar__name"},a),r.a.createElement("p",{className:"randomchar__descr"},n),r.a.createElement("div",{className:"randomchar__btns"},r.a.createElement("a",{href:c,className:"button button__main"},r.a.createElement("div",{className:"inner"},"homepage")),r.a.createElement("a",{href:i,className:"button button__secondary"},r.a.createElement("div",{className:"inner"},"Wiki")))))},C=N,O=a(7),j=(a(21),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={charList:[],loading:!0,error:!1,newItemLoading:!1,offset:210,charEnded:!1},e.marvelService=new g,e.onRequest=function(t){e.onCharListLoading(),e.marvelService.getAllCharacters(t).then(e.onCharListLoaded).catch(e.onError)},e.onCharListLoading=function(){e.setState({newItemLoading:!0})},e.onCharListLoaded=function(t){var a=!1;t.length<9&&(a=!0),e.setState((function(e){var n=e.offset,r=e.charList;return{charList:[].concat(Object(O.a)(r),Object(O.a)(t)),loading:!1,newItemLoading:!1,offset:n+9,charEnded:a}}))},e.onError=function(){e.setState({error:!0,loading:!1})},e.itemRefs=[],e.setRef=function(t){e.itemRefs.push(t)},e.focusOnItem=function(t){e.itemRefs.forEach((function(e){return e.classList.remove("char__item_selected")})),e.itemRefs[t].classList.add("char__item_selected"),e.itemRefs[t].focus()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onRequest()}},{key:"renderItems",value:function(e){var t=this,a=e.map((function(e,a){var n={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===e.thumbnail&&(n={objectFit:"unset"}),r.a.createElement("li",{className:"char__item",tabIndex:0,ref:t.setRef,key:e.id,onClick:function(){t.props.onCharSelected(e.id),t.focusOnItem(a)},onKeyPress:function(n){" "!==n.key&&"Enter"!==n.key||(t.props.onCharSelected(e.id),t.focusOnItem(a))}},r.a.createElement("img",{src:e.thumbnail,alt:e.name,style:n}),r.a.createElement("div",{className:"char__name"},e.name))}));return r.a.createElement("ul",{className:"char__grid"},a)}},{key:"render",value:function(){var e=this,t=this.state,a=t.charList,n=t.loading,c=t.error,i=t.offset,l=t.newItemLoading,s=t.charEnded,o=this.renderItems(a),m=c?r.a.createElement(p,null):null,u=n?r.a.createElement(d,null):null,f=n||c?null:o;return r.a.createElement("div",{className:"char__list"},m,u,f,r.a.createElement("button",{className:"button button__main button__long",disabled:l,style:{display:s?"none":"block"},onClick:function(){return e.onRequest(i)}},r.a.createElement("div",{className:"inner"},"load more")))}}]),a}(n.Component)),w=(a(22),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"char__select"},"Please select a character to see information"),r.a.createElement("div",{className:"skeleton"},r.a.createElement("div",{className:"pulse skeleton__header"},r.a.createElement("div",{className:"pulse skeleton__circle"}),r.a.createElement("div",{className:"pulse skeleton__mini"})),r.a.createElement("div",{className:"pulse skeleton__block"}),r.a.createElement("div",{className:"pulse skeleton__block"}),r.a.createElement("div",{className:"pulse skeleton__block"})))}),x=(a(23),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={char:null,loading:!1,error:!1},e.marvelService=new g,e.updateChar=function(){var t=e.props.charId;t&&(e.onCharLoading(),e.marvelService.getCharacter(t).then(e.onCharLoaded).catch(e.onError))},e.onCharLoaded=function(t){e.setState({char:t,loading:!1})},e.onCharLoading=function(){e.setState({loading:!0})},e.onError=function(){e.setState({loading:!1,error:!0})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.updateChar()}},{key:"componentDidUpdate",value:function(e){this.props.charId!==e.charId&&this.updateChar()}},{key:"render",value:function(){var e=this.state,t=e.char,a=e.loading,n=e.error,c=t||a||n?null:r.a.createElement(w,null),i=n?r.a.createElement(p,null):null,l=a?r.a.createElement(d,null):null,s=a||n||!t?null:r.a.createElement(L,{char:t});return r.a.createElement("div",{className:"char__info"},c,i,l,s)}}]),a}(n.Component)),L=function(e){var t=e.char,a=t.name,n=t.decoration,c=t.thumbnail,i=t.homepage,l=t.wiki,s=t.comics,o={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===c&&(o={objectFit:"contain"}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"char__basics"},r.a.createElement("img",{src:c,alt:a,style:o}),r.a.createElement("div",null,r.a.createElement("div",{className:"char__info-name"},a),r.a.createElement("div",{className:"char__btns"},r.a.createElement("a",{href:i,className:"button button__main"},r.a.createElement("div",{className:"inner"},"homepage")),r.a.createElement("a",{href:l,className:"button button__secondary"},r.a.createElement("div",{className:"inner"},"Wiki"))))),r.a.createElement("div",{className:"char__descr"},n),r.a.createElement("div",{className:"char__comics"},"Comics:"),r.a.createElement("ul",{className:"char__comics-list"},s.length>0?null:"There no comis with this character",s.map((function(e,t){return r.a.createElement("li",{key:t,className:"char__comics-item"},e.name)}))))},T=x,S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:!1},e}return Object(s.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement(p,null):this.props.children}}]),a}(n.Component),I=a(12),R=a.n(I),F=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedChar:null},e.onCharSelected=function(t){e.setState({selectedChar:t})},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(u,null),r.a.createElement("main",null,r.a.createElement(S,null,r.a.createElement(C,null)),r.a.createElement("div",{className:"char__content"},r.a.createElement(j,{onCharSelected:this.onCharSelected}),r.a.createElement(S,null,r.a.createElement(T,{charId:this.state.selectedChar}))),r.a.createElement("img",{className:"bg-decoration",src:R.a,alt:"vision"})))}}]),a}(n.Component);a(24);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.376a1135.chunk.js.map